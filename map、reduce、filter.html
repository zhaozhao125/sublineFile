<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // map
      const arr = [1, 2, 3, 4, 5];
      function mayMap(arr, cb) {
        if (!Array.isArray(arr)) {
          return [];
        } else {
          let result = [];
          for (let i = 0; i < arr.length; i++) {
            result.push(cb(arr[i], i, arr));
          }
          return result;
        }
      }

      const res = mayMap(arr, (ele) => {
        return ele;
      });
      console.log(res, "res");
      // filter
      function myFilter(arr, cb) {
        if (!Array.isArray(arr)) {
          return [];
        } else {
          let res = [];
          for (let i = 0; i < arr.length; i++) {
            if (cb(arr[i], i, arr)) {
              res.push(arr[i]);
            }
          }
          return res;
        }
      }
      const filterRes = myFilter(arr, (ele) => {
        return ele === 4;
      });
      console.log(filterRes, "filterRes");

     function myReduce(arr, fn, init) {
       let pre
       let currentIndex
       if (init === undefined) {
         pre = arr[0]
         currentIndex = 1
       } else {
         pre = init
         currentIndex = 0
       }
       for (let i = currentIndex;i < arr.length; i++) {
          pre = fn(pre, arr[i], i, arr)
          console.log(pre, 'pre')
       }
       return pre
     }
        const myArray = [1,2,3,4,5]
        const res22 = myReduce(myArray, (pre, cur, index, array) => {
           return pre + cur
        }, 0)
        console.log(res22, 'res')
    

















      // 方法promiseA，返回一个Promise对象
      function promiseA() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Aa");
            resolve("A");
          }, 3000);
        });
      }
      // 方法promiseB，返回一个Promise对象
      function promiseB() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Bb");
            resolve("B");
          }, 1000);
        });
      }
      // 按照A, B的顺序添加到promise数组中
      Promise.all([promiseA(), promiseB()]).then((resolve) => {
        console.log(resolve);
      });
    </script>
  </body>
</html>
