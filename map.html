<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const arr = [1, 2, 3, 4, 5];
      function mayMap(arr, cb) {
        if (!Array.isArray(arr)) {
          return [];
        } else {
          let result = [];
          for (let i = 0; i < arr.length; i++) {
            result.push(cb(arr[i], i, arr));
          }
          return result;
        }
      }

      const res = mayMap(arr, (ele) => {
        return ele;
      });
      console.log(res, "res");

      function myFilter(arr, cb) {
        if (!Array.isArray(arr)) {
          return [];
        } else {
          let res = [];
          for (let i = 0; i < arr.length; i++) {
            if (cb(arr[i], i, arr)) {
              res.push(arr[i]);
            }
          }
          return res;
        }
      }
      const filterRes = myFilter(arr, (ele) => {
        return ele === 4;
      });
      console.log(filterRes, "filterRes");

      // 方法promiseA，返回一个Promise对象
      function promiseA() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Aa");
            resolve("A");
          }, 3000);
        });
      }
      // 方法promiseB，返回一个Promise对象
      function promiseB() {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Bb");
            resolve("B");
          }, 1000);
        });
      }
      // 按照A, B的顺序添加到promise数组中
      Promise.all([promiseA(), promiseB()]).then((resolve) => {
        console.log(resolve);
      });
    </script>
  </body>
</html>
