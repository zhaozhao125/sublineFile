<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const array = [
        { value: 6 },
        { value: 2 },
        { value: 3 },
        { value: 5 },
        { value: 2 },
        { value: 5 },
        { value: "xx" },
      ];

      // console.log(new Set(arrayMap));
      function sum(array) {
        const filterArray = [];
        array.forEach((ele) => {
          if (
            typeof ele.value == "number" &&
            filterArray.indexOf(ele.value) === -1
          ) {
            filterArray.push(ele.value);
          }
        });
        const res = filterArray.reduce((pre, cur) => {
          return pre * cur;
        }, 1);
        return res;
      }
      const result = sum(array);

      let money = "1221fadfda23";

      // function moneyFormat(money) {
      //   // todo
      //   let sArr = money.split("");
      //   console.log("sArr: ", sArr);
      //   let n = 0,
      //     len = sArr.length;
      //   sArr.forEach((item, index, arr) => {
      //     if (index == (len % 3) + 3 * n) {
      //       arr.splice(index + n, 0, ",");
      //       n++;
      //     }
      //   });
      //   if (len % 3 === 0) {
      //     sArr.shift();
      //   }
      //   return sArr.join("");
      // }
      function moneyFormat(money) {
        const moneyArray = [...money];
        moneyArray.forEach((ele, index) => {
          console.log(index);
          if ((index + 1) % 3 == 0 && index + 1 !== moneyArray.length) {
            console.log(ele, "ele");
            moneyArray[index] = ele + ",";
          }
        });
        return moneyArray.join("");
      }
      console.log(moneyFormat(money), 11);
      const parent = [
        {
          id: "CPuzzFfvFM",
          key: "PROXIMA-4005",
          name: "qqqq---qqqq",
          itemType: { objectId: "uAKYZbdYP4", key: "Task", name: "Task" },
          workspace: {
            objectId: "crCmBKIg1p",
            key: "PROXIMA",
            name: "Proxima",
            isArchived: false,
          },
          itemGroup: {
            objectId: "Im5QeqBGxe",
            name: "需求池-修改1",
            key: "8413955a1638969341574",
          },
          createdBy: {
            value: "jasPZZVVEQ",
            objectId: "jasPZZVVEQ",
            label: "osc-admin",
            username: "osc-admin",
            nickname: "管理员",
            enabled: true,
          },
          createdAt: "2022-10-18T09:58:51.701Z",
          updatedAt: "2022-10-18T09:58:51.701Z",
          status: { objectId: "HqdG1eLkKc", name: "新建", type: "Start" },
          ancestors: [],
          parentId: null,
          objectId: "CPuzzFfvFM",
          values: {
            priority: "8f7912a5-9176-4a79-a269-2269ac42b5a2",
            FZR: [Array],
            "FZR-SortedUserField": [Array],
            suoshuchanpin: [Array],
            COMMON_CONTEXT: [Array],
          },
          rowId: "CPuzzFfvFM",
        },
        {
          id: "UpW9cfJsST",
          key: "MYSPACE-48",
          name: "252525",
          itemType: { objectId: "uAKYZbdYP4", key: "Task", name: "Task" },
          workspace: {
            objectId: "NUOtFRsxzv",
            key: "MYSPACE",
            name: "myspace",
            isArchived: false,
          },
          itemGroup: {
            objectId: "DoQNAiA6A4",
            name: "默认事项组",
            key: "80c302fa1663656312860",
          },
          createdBy: {
            value: "jasPZZVVEQ",
            objectId: "jasPZZVVEQ",
            label: "osc-admin",
            username: "osc-admin",
            nickname: "管理员",
            enabled: true,
          },
          createdAt: "2022-10-18T10:37:54.827Z",
          updatedAt: "2022-10-18T10:37:54.827Z",
          status: { objectId: "HqdG1eLkKc", name: "新建", type: "Start" },
          ancestors: [],
          parentId: null,
          objectId: "UpW9cfJsST",
          values: {
            priority: "8f7912a5-9176-4a79-a269-2269ac42b5a2",
            User12: [Array],
            "User12-SortedUserField": [Array],
            COMMON_CONTEXT: [Array],
            sprint: ["1"],
          },
          rowId: "UpW9cfJsST",
        },
        {
          id: "tf7JnmCe2c",
          key: "DSAD-9",
          name: "<title>test</title>",
          itemType: { objectId: "AFxnY1d0RG", key: "Story", name: "Story" },
          workspace: {
            objectId: "HDoYQ8lO1l",
            key: "DSAD",
            name: "绑定",
            isArchived: false,
          },
          itemGroup: {
            objectId: "VCTRqGte35",
            name: "默认事项组",
            key: "6275f2ab1665387378773",
          },
          createdBy: {
            value: "jasPZZVVEQ",
            objectId: "jasPZZVVEQ",
            label: "osc-admin",
            username: "osc-admin",
            nickname: "管理员",
            enabled: true,
          },
          createdAt: "2022-10-12T03:37:34.879Z",
          updatedAt: "2022-10-12T03:37:34.879Z",
          status: { objectId: "HqdG1eLkKc", name: "新建", type: "Start" },
          ancestors: [],
          parentId: null,
          objectId: "tf7JnmCe2c",
          values: {
            priority: "8f7912a5-9176-4a79-a269-2269ac42b5a2",
            QA: [Array],
            "QA-SortedUserField": [Array],
            __screen_type: "create",
            Dropdown44443242: [],
            sprint: ["1"],
          },
          rowId: "tf7JnmCe2c",
        },
      ];
      function unique(arr) {
        return arr.reduce(
          (prev, cur) => (prev.includes(cur) ? prev : [...prev, cur]),
          []
        );
      }
      const res = unique(
        parent.reduce((pre, cur) => {
          console.log(pre, cur);
          if (cur.values.sprint && pre.indexOf(cur.values.sprint) === -1) {
            return [...pre, ...cur.values.sprint];
          } else {
            return pre;
          }
        }, [])
      );
      console.log(res, "res");
    </script>
  </body>
</html>
