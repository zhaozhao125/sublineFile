<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">
      <span>
        <a id="mya"></a>
      </span>
      <span>
        <a></a>
        <a></a>
      </span>
    </div>

    <script>
      const root = document.querySelector("div");

      function dom2Json(domtree) {
        if (domtree.tagName) {
          let obj = {};
          obj.name = domtree.tagName;
          obj.children = [];
          domtree.childNodes.forEach((child) =>
            obj.children.push(dom2Json(child))
          );
          return obj;
        }
      }

      const res = dom2Json(root);
      console.log("res111: ", res);
    </script>
  </body>
</html>
