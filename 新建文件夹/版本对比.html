<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      function compareVersion(v1, v2) {
        const v1Arr = v1.split(".");
        const v2Arr = v2.split(".");
        const length1 = v1Arr.length;
        const length2 = v2Arr.length;
        const minLength = Math.min(length1, length2);
        let i;
        for (i = 0; i < minLength; i++) {
          if (Number(v1Arr[i]) > Number(v2Arr[i])) {
            return 1;
          } else if (Number(v1Arr[i]) < Number(v2Arr[i])) {
            return -1;
          }
        }
        if (length1 > length2) {
          for (j = i; j++; j < length1) {
            if (Number(v1Arr[j]) !== 0) {
              return 1;
            }
          }
          return 0;
        }
        if (length2 > length1) {
          for (k = i; k < length2; k++) {
            if (Number(v2Arr[k]) !== 0) {
              return -1;
            }
          }
          return 0;
        }
        return 0;
      }
      const res = compareVersion("1.0.1", "1.0.2");
      console.log("res: ", res);

      let arr = ["0.1.1", "2.3.3", "0.302.1", "4.2", "4.3.5", "4.3.4.5"];
      arr.sort((a, b) => {
        let i = 0;
        const arr1 = a.split(".");
        const arr2 = b.split(".");

        while (true) {
          // 类似4.3.1 和 4.3的比较
          const s1 = arr1[i];
          const s2 = arr2[i];
          i++;
          if (s1 === undefined || s2 === undefined) {
            return arr2.length - arr1.length;
          }

          if (s1 === s2) continue;

          return s2 - s1;
        }
      });
      console.log(arr);

      const arr1 = [1, 2, 3];
      const a = arr1.reverse();
      console.log("转换后 ", a);
      console.log("原来值", arr1);
    </script>
  </body>
</html>
